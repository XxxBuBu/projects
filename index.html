<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@100..900&display=swap" rel="stylesheet">

  <title>Frontend Mentor | Calculator app</title>

  
  <style>
    .attribution { font-size: 11px; text-align: center; }
    .attribution a { color: hsl(228, 45%, 44%); }
  </style>
</head>
<body>


  
  <div class="attribution">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
    Coded by <a href="#">bubu</a>.
  </div>

  <div id="calcBody">
    <div id="bar">
      <p>calc</p>
      <div id="themeBar">
        <span id="themeT">THEME</span>
        <input type="range" min="1" max="3" step="1" value="1" id="themeInput">
        <div id="themeRef">
          <span>1</span>
          <span>2</span>
          <span>3</span>
        </div>
      </div>
    </div>
    <div id="calcDis">0</div>
    <div id="keypad">
      <button class="key key-7" onclick="getValue(7)">7</button>
      <button class="key key-8" onclick="getValue(8)">8</button>
      <button class="key key-9" onclick="getValue(9)">9</button>
      <button class="key key-del" id="del" onclick="delCharacter()">DEL</button>
      <button class="key key-4" onclick="getValue(4)">4</button>
      <button class="key key-5" onclick="getValue(5)">5</button>
      <button class="key key-6" onclick="getValue(6)">6</button>
      <button class="key key-add" id="add" onclick="avoidProb('+')">+</button>
      <button class="key key-1" onclick="getValue(1)">1</button> 
      <button class="key key-2" onclick="getValue(2)">2</button>
      <button class="key key-3" onclick="getValue(3)">3</button>
      <button class="key key-sub" id="sub" onclick="avoidProb('-')">-</button>
      <button class="key key-float" id="floatP" onclick="avoidProb('.')">.</button>
      <button class="key key-0" onclick="getValue(0)">0</button>
      <button class="key key-divd" id="divd" onclick="avoidProb('/')">/</button>
      <button class="key key-mult" id="mult" onclick="avoidProb('x')">x</button>
      <button class="keyBig key-reset" id="reset" onclick="resetCalc()">RESET</button>
      <button class="keyBig key-equal" id="equal" onclick="result()">=</button>
    </div>
  </div>

  <script>
     //display input numbers

    const calcScreen = document.getElementById("calcDis");

    function getValue(value){
      if(calcScreen.innerText == "0" || ""){
        calcScreen.innerHTML = "";
        calcScreen.innerHTML = value;
      } else {
        calcScreen.innerHTML += value;
      }
    }

    function resetCalc(){
      calcScreen.innerHTML = 0;
    }


    

    function delCharacter(){
      const numArr = calcScreen.innerText.split("");
      numArr.length = (numArr.length - 1);
      calcScreen.innerHTML = numArr.join("");
      if(calcScreen.innerText == ""){
        calcScreen.innerHTML = 0;
      }
    }

    function avoidProb(ops){
      const numArr = calcScreen.innerText.split("");
      let x = numArr[numArr.length - 1];
      if(x === "+" || x === "-" || x === "x" || x === "/" || x === "."){
        console.log("invalid input");
      } else {
        operate(ops);
      }
    }

    function operate(ops){
      calcScreen.innerText += ops ;
    }

    function result(){
      const numArr = calcScreen.innerText.split("");
      numArr.forEach(function(value,index,arr) { if(value === "x"){arr[index] = "*"} });
      const all = numArr.join("");
      //let numbers = all.match(/\d+/g);
      //let operators = all.match(/[\*\/\.\+\-]/g);
      let res = eval(all);
      calcScreen.innerHTML = res;
    }

    document.getElementById("themeInput").addEventListener("input", function(){
      let val = document.getElementById("themeInput").value;
      let root = document.documentElement;
      
      if(val == 1){
        root.style.setProperty( "--bg" , "hsl(222, 26%, 31%)" );
        root.style.setProperty( "--font-color" , "hsl(0, 0%, 100%)" );
        root.style.setProperty( "--keypad-input-bg" , "hsl(223, 31%, 20%)" );
        root.style.setProperty( "--calcDis-bg" , "hsl(224, 36%, 15%)" );
        root.style.setProperty( "--slider-equal-bg" , "hsl(6, 63%, 50%)" );
        root.style.setProperty( "--slider-equal-bg-hover" , "hsl(6, 63%, 56%)" );
        root.style.setProperty( "--slider-equal-bg-active" , "hsl(6, 63%, 59%)" );
        root.style.setProperty( "--equal-shadow" , "hsl(6, 63%, 34%)" );
        root.style.setProperty( "--key-bg" , "hsl(30, 25%, 89%)" );
        root.style.setProperty( "--key-bg-hover" , "hsl(30, 25%, 95%)" );
        root.style.setProperty( "--key-bg-active" , "hsl(30, 25%, 99%)" );
        root.style.setProperty( "--key-color" , "hsl(221, 14%, 31%)" );
        root.style.setProperty( "--key-shadow" , "hsl(28, 16%, 65%)" );
        root.style.setProperty( "--del-reset-bg" , "hsl(225, 21%, 49%)" );
        root.style.setProperty( "--del-reset-bg-hover" , "hsl(225, 21%, 51%)" );
        root.style.setProperty( "--del-reset-bg-active" , "hsl(225, 21%, 55%)" );
        root.style.setProperty( "--del-reset-shadow" , "hsl(224, 28%, 35%)" );
      }
      if(val == 2){
        root.style.setProperty( "--bg" , "hsl(0, 0%, 90%)" );
        root.style.setProperty( "--font-color" , "hsl(60, 10%, 19%)" );
        root.style.setProperty( "--keypad-input-bg" , "hsl(0, 5%, 81%)" );
        root.style.setProperty( "--calcDis-bg" , "hsl(0, 0%, 93%)" );
        root.style.setProperty( "--slider-equal-bg" , "hsl(25, 98%, 40%)" );
        root.style.setProperty( "--slider-equal-bg-hover" , "hsl(25, 98%, 45%)" );
        root.style.setProperty( "--slider-equal-bg-active" , "hsl(25, 98%, 50%)" );
        root.style.setProperty( "--equal-shadow" , "hsl(25, 99%, 27%)" );
        root.style.setProperty( "--key-bg" , "hsl(45, 7%, 89%)" );
        root.style.setProperty( "--key-bg-hover" , "hsl(45, 7%, 91%)" );
        root.style.setProperty( "--key-bg-active" , "hsl(45, 7%, 94%)" );
        root.style.setProperty( "--equal-color", "hsl(0, 0%, 100%)")
        root.style.setProperty( "--key-shadow" , "hsl(35, 11%, 61%)" );
        root.style.setProperty( "--del-reset-bg" , "hsl(185, 42%, 37%)" );
        root.style.setProperty( "--del-reset-bg-hover" , "hsl(185, 42%, 39%)" );
        root.style.setProperty( "--del-reset-bg-active" , "hsl(185, 42%, 42%)" );
        root.style.setProperty( "--del-reset-shadow" , "hsl(185, 58%, 25%)" );
        root.style.setProperty( "--del-reset-color", "hsl(0, 0%, 100%)")
      }
      if(val == 3){
        root.style.setProperty( "--bg" , "hsl(268, 75%, 9%)" );
        root.style.setProperty( "--font-color" , "hsl(52, 100%, 62%)" );
        root.style.setProperty( "--keypad-input-bg" , "hsl(268, 71%, 12%)" );
        root.style.setProperty( "--calcDis-bg" , "hsl(268, 71%, 12%)" );
        root.style.setProperty( "--slider-equal-bg" , "hsl(176, 100%, 44%)" );
        root.style.setProperty( "--slider-equal-bg-hover" , "hsl(176, 100%, 47%)" );
        root.style.setProperty( "--slider-equal-bg-active" , "hsl(176, 100%, 51%)" );
        root.style.setProperty( "--equal-shadow" , "hsl(177, 92%, 70%)" );
        root.style.setProperty( "--equal-color" , "hsl(198, 20%, 13%)" );
        root.style.setProperty( "--key-bg" , "hsl(268, 47%, 21%)" );
        root.style.setProperty( "--key-bg-hover" , "hsl(268, 47%, 23%)" );
        root.style.setProperty( "--key-bg-active" , "hsl(268, 47%, 26%)" );
        root.style.setProperty( "--key-color" , "hsl(52, 100%, 62%)" );
        root.style.setProperty( "--key-shadow" , "hsl(290, 70%, 36%)" );
        root.style.setProperty( "--del-reset-bg" , "hsl(281, 89%, 26%)" );
        root.style.setProperty( "--del-reset-bg-hover" , "hsl(281, 89%, 28%)" );
        root.style.setProperty( "--del-reset-bg-active" , "hsl(281, 89%, 31%)" );
        root.style.setProperty( "--del-reset-shadow" , "hsl(285, 91%, 52%)" );
        root.style.setProperty( "--del-reset-color" , "hsl(0, 0%, 100%)" );
      }
    
    });
    
    

  </script>
</body>
</html>